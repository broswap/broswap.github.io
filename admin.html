<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="icon" type="image/x-icon"
        href="https://raw.githubusercontent.com/broswap/logo/main/token/brc200x200.png">
    <title>BroSale</title>
    <meta name="description" content="It's a meticulously designed ecosystem to cater to diverse crypto needs.">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script>

        async function detectAndSwitchNetwork() {
            if (typeof window.ethereum !== 'undefined') {
                const ethereum = window.ethereum;

                try {

                    const chainId = await ethereum.request({ method: 'eth_chainId' });

                    if (chainId !== '0x45c') {

                        await ethereum.request({ method: 'wallet_switchEthereumChain', params: [{ chainId: '0x45c' }] });
                    }
                } catch (error) {
                    console.error('Tidak dapat mengganti jaringan:', error);
                }
            } else {
                console.log('Web3 tidak terdeteksi. Pastikan MetaMask atau penyedia Web3 lainnya terinstal.');
            }
        }

        window.addEventListener('load', detectAndSwitchNetwork);

    </script>
</head>

<body>
    <header>
        <div class="logo">
            <img src="https://raw.githubusercontent.com/broswap/logo/main/token/brc200x200.png" width="200" height="200"
                alt="Token Logo">
            <h1>Brocoin (BRC)</h1>
            <p>BRC is the utilitiy token on BroSwap.org</p>
        </div>
        <div>
            <nav>
                <ul>
                    <li><a href="https://broswap.org">About</a></li>
                    <li><a href="https://broswap.org/#/swap">Exchange</a></li>
                    <li><a href="mailto:official@broswap.org">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <main>
        <section>
            <center>
                <h2>Welcome to BroSale</h2>
                <p>Brocoin是一种在数字金融领域具有创新潜力的加密货币。这种数字货币反映了勤奋和奉献精神。探索Brocoin的独特之处，一起迎接更加开放的金融未来吧！</p>
                <p>
                    <font color="red">Please connect wallet and switch network to Core DAO (CORE)</font>
                </p>
            </center>
        </section>
        <div class="countdown-box">
            <div class="countdown" id="countdown"></div>
            <center><button id="connectWallet">Connect Wallet</button></center>
        </div>
        <section id="connectedWallet" style="display: none;">
            <section>
                <h2><i class="fas fa-wallet"></i> Wallet Connected</h2>
                <p><b>You CORE Balance:</b> <span id="coreBalance"></span> CORE</p>
                <p><b>You BRC Balance:</b> <span id="tokenBalance"></span> BRC</p>
                <p><b>You Wallet:</b> <span id="walletAddress"></span></p>
            </section>
            <section>
                <h2><i class="fas fa-coins"></i> Token Information</h2>
                <p><b>Name:</b> <span>Brocoin</span></p>
                <p><b>Ticker:</b> <span>BRC</span></p>
                <p><b>Decimals:</b> <span>18</span></p>
                <p><b>Total supply:</b> <span>21000000</span> fixed!</p>
                <p><b>Hard Cap:</b> <span>30</span> CORE</p>
                <p><b>Chain network:</b> <span>Core DAO</span></p>
                <p><b>Contract address:</b> <span>0x9ac0c69F77Cc5c2f0A5c8DA8fAc37DDcdBbe5739</span></p>
            </section>
            <section>
                <h2><i class="fas fa-rocket"></i> Brosale Information</h2>
                <p><b>Brosale Rate:</b> <span id="presaleRate"></span> BRC/CORE</p>
                <p><b>Liquidity Rate:</b> <span>80</span> BRC/CORE</p>
                <p><b>Min-Buy:</b> <span>2</span> CORE</p>
                <p><b>Max-Buy:</b> <span id="maxPurchase"></span> CORE/Wallet</p>
                <p><b>Soft Cap:</b> <span>1000</span> CORE</p>
                <p><b>Hard Cap:</b> <span>5000</span> CORE</p>
                <p><b>Funds Allocation:</b> <span>80%</span> for Liquidity</p>
                <p><b>Funds Raised:</b> <span id="weiRaised"></span> CORE</p>
            </section>
            <section>
                <h2><i class="fas fa-shopping-cart"></i> BRC Purchase</h2>
                <form id="buyTokensForm">
                    <label for="buyAmount">CORE Amount to Buy:</label>
                    <input type="number" id="buyAmount" step="any" required style="width: 80%;" min="2">
                    <button type="submit">BUY BRC</button>
                </form>
                <div id="operationResult" style="display: none;">
                    <p id="operationMessage"></p>
                </div>
            </section>
            <section>
                <h2><i class="fas fa-coins"></i> Set Presale Rate</h2>
                <form id="setPresaleRateForm">
                    <label for="newRate">New Presale Rate:</label>
                    <input type="text" id="newRate" name="newRate" required>
                    <button type="submit">Set Rate</button>
                </form>
                <div id="operationResult" style="display: none;">
                    <p id="operationMessage"></p>
                </div>
            </section>
            <section>
                <h2><i class="fas fa-coins"></i> withdraw</h2>
                <button id="withdrawCoins">Withdraw CORE</button>
                <form id="withdrawTokensForm">
                    <label for="tokenAddress">Token Address:</label>
                    <input type="text" id="tokenAddress" name="tokenAddress" required>
                    <label for="tokenAmount">Token Amount:</label>
                    <input type="text" id="tokenAmount" name="tokenAmount" required>
                    <button type="submit">Withdraw Token</button>
                </form>
                <div id="operationResult" style="display: none;">
                    <p id="operationMessage"></p>
                </div>
            </section>
        </section>
    </main>
    <footer>
        <nav>
            <ul class="footer-menu">
                <li><a href="https://x.com/broswaporg"><i class="fab fa-twitter"></i></a></li>
                <li><a href="https://t.me/broswap"><i class="fab fa-telegram"></i></a></li>
                <li><a href="mailto:official@broswap.org"><i class="fas fa-envelope"></i></a></li>
                <li><a href="https://github.com/broswap"><i class="fa-brands fa-github"></i></a></li>
            </ul>
        </nav>
    </footer>
    <script src="./js/web3.js"></script>
    <script type="module" src="./js/app.js"></script>
</body>
<script src="./js/countdown.js"></script>

</html>
